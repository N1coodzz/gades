<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gates of Olympus Mobil Slot</title>
  <style>
    html, body {height:100%;margin:0;padding:0;}
    body {
      min-height: 100vh;
      background: #2b2040 url('background.png') center center/cover no-repeat fixed;
      font-family: 'Segoe UI', Arial, sans-serif;
      display: flex; align-items: center; justify-content: center; flex-direction: column;
    }
    .slot-container {
      width: 98vw; max-width: 430px;
      background: rgba(44,20,80,0.85);
      border-radius: 1.45em;
      box-shadow: 0 8px 32px #5c47aa33,0 1.5px 6px #0002;
      position: relative;
      padding: 1.5em 0.1em 1.6em 0.1em;
      margin: 1.6em 0 1em 0;
      overflow: hidden;
    }
    .slot-header {
      text-align: center;
      font-weight: bold;
      font-size: 1.16em;
      letter-spacing: 0.01em;
      margin-bottom: 0.6em;
      color: #ffd700;
      text-shadow: 0 1px 3px #7c5715, 0 0 8px #fff8;
    }
    .gates-logo {
      display: block;
      margin: 0 auto 0.18em auto;
      max-width: 76vw;
      width: 220px;
      height: auto;
      filter: drop-shadow(0 2px 15px #ffe36c99);
    }
    .zeus-img {
      position: absolute;
      right: 6px;
      bottom: 11px;
      width: 82px;
      z-index: 8;
      pointer-events: none;
      filter: drop-shadow(0 2px 12px #bdbbfa66);
    }
    .slot-reels {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      margin: 0.5em 0 1em 0;
      position: relative;
      z-index: 3;
      min-height: 13em;
    }
    .reel {
      width: 2.1em; min-width: 2.1em; height: 11.1em;
      margin: 0 0.09em; border-radius:0.62em; box-shadow:0 0.6px 3px #0002;
      background: none; overflow:hidden; position:relative;
      display:flex; flex-direction:column; align-items:center;
    }
    .reel-inner {
      position:absolute; left:0; top:0; width:100%;
      will-change: transform;
      display: flex; flex-direction: column;
      transition: none;
    }
    .symbol {
      width: 2em; height: 2em; margin:0.06em 0;
      background: transparent;
      border-radius: 0.25em;
      border: none;
      box-shadow: none;
      display: flex; align-items: center; justify-content: center;
      overflow:hidden; position:relative;
      transition: box-shadow 0.16s, border 0.16s;
    }
    .symbol img {
      width: 100%; height: 100%; object-fit: contain; display:block;
      pointer-events: none; user-select: none;
      filter: drop-shadow(0 0 6px #c0a6ff33);
    }
    .symbol.scatter {
      border: 2.5px solid #ffe36c;
      box-shadow: 0 0 32px #ffe073, 0 0 40px #fffbe6, 0 0 14px #f6e460, 0 0 36px #ffef91;
      animation: scatterGlow 1.12s cubic-bezier(.24,.8,.5,1.3) infinite alternate;
    }
    @keyframes scatterGlow {
      0% { box-shadow: 0 0 24px #ffe490, 0 0 18px #ffe8b4;}
      100% { box-shadow: 0 0 40px #fffbe6, 0 0 24px #ffd700;}
    }
    .spin-btn {
      margin: 1.18em auto 0.18em auto;
      display: flex; align-items: center; justify-content: center;
      background: linear-gradient(90deg,#ffc12e 55%,#a48a2e 100%);
      color: #7c5715;
      border: none; border-radius: 2em; font-size: 1.14em; font-weight: bold;
      padding: 0.67em 2.05em 0.67em 2.05em;
      box-shadow: 0 2px 10px #ecbc4666,0 0.5px 2px #c8992a44;
      cursor: pointer; letter-spacing: 0.04em;
      outline: none; transition: background 0.13s, transform 0.12s;
      user-select: none; touch-action: manipulation; position: relative;
    }
    .spin-btn:active {background:linear-gradient(90deg,#ffe288 40%,#c69f2a 100%);transform:scale(0.98);}
    .win-message {
      position: absolute; left: 0; right: 0; top: 32%; z-index: 200; text-align: center;
      font-size: 2.12em; font-weight: bold; color: #ffe06a;
      text-shadow: 0 0 18px #392c00, 0 0 54px #ffd700;
      letter-spacing: 0.04em; opacity: 0;
      pointer-events: none;
      animation: none;
    }
    .win-message.show {
      opacity: 1;
      animation: winText 3.6s cubic-bezier(.36,0,.41,1.16) 1;
    }
    @keyframes winText {
      0% { opacity: 0; transform: scale(0.97) translateY(42px);}
      12% { opacity: 1; transform: scale(1.14) translateY(-7px);}
      21% { opacity: 1; transform: scale(1.07) translateY(-2px);}
      80% { opacity: 1; }
      100% { opacity: 0; transform: scale(1) translateY(34px);}
    }
    .bonus-modal {
      position: fixed; left: 0; top: 0; width: 100vw; height: 100vh; z-index: 99;
      background: rgba(37,17,57,0.91);
      display: flex; align-items: center; justify-content: center;
      transition: opacity 0.18s; pointer-events: none; opacity: 0;
    }
    .bonus-modal.show { pointer-events: auto; opacity: 1; }
    .bonus-box {
      background: linear-gradient(110deg,#fffbe7 70%,#ffe08c 100%);
      border-radius: 1.13em;
      box-shadow: 0 5px 22px #825de6cc, 0 0.5px 3px #5d44b522;
      min-width: 240px; max-width: 95vw;
      padding: 1.3em 0.8em 1.0em 0.8em;
      display: flex; flex-direction: column; align-items: center; text-align: center; position: relative;
      animation: bonusAppear 0.85s cubic-bezier(.42,0,.4,1.19) 1;
    }
    @keyframes bonusAppear {
      0% { opacity: 0; transform: translateY(68px) scale(0.93); }
      100% { opacity: 1; transform: translateY(0) scale(1); }
    }
    .bonus-emoji { font-size: 2.2em; margin-bottom: 0.5em; filter: drop-shadow(0 2px 7px #fc0);}
    .bonus-header { font-weight: bold; font-size: 1.15em; color: #bb8500; margin-bottom: 0.18em; }
    .bonus-desc { color: #48390a; font-size: 1.05em; margin-bottom: 1.00em; }
    .bonus-btn {
      display: inline-block; background: linear-gradient(90deg,#ffdd41,#ffd200 95%);
      color: #3c2d01; font-weight: bold; font-size: 1.13em;
      border-radius: 2em; box-shadow: 0 1.5px 8px #ffe77e44;
      padding: 0.74em 2.4em; border: none; outline: none; cursor: pointer;
      transition: background 0.13s,transform 0.1s; margin-top: 0.4em; letter-spacing: 0.04em;
    }
    .bonus-btn:active {background:linear-gradient(90deg,#ffe37a,#ffe31a 95%);transform:scale(0.98);}
    @media (max-width: 600px) {
      .gates-logo { width: 93vw; max-width: 96vw; }
      .zeus-img { width: 53px; bottom: 4px;}
      .slot-container { max-width: 99vw;}
      .slot-reels { min-height: 9em; }
    }
  </style>
</head>
<body>
  <div class="slot-container">
    <img class="gates-logo" src="gates.png" alt="Gates of Olympus" />
    <div class="slot-header">
      Semboller ekranƒ±n herhangi bir yerinde √∂deme yapar
    </div>
    <div class="slot-reels" id="slotReels"></div>
    <img class="zeus-img" src="god.png" alt="Zeus" />
    <button class="spin-btn" id="spinBtn">SPIN</button>
    <div class="win-message" id="winMessage">BONUS! 100 √úcretsiz D√∂nd√ºrme Kazandƒ±nƒ±z!</div>
  </div>
  <div class="bonus-modal" id="bonusModal">
    <div class="bonus-box">
      <div class="bonus-emoji">üéÅ</div>
      <div class="bonus-header">Tebrikler! Kazandƒ±nƒ±z!</div>
      <div class="bonus-desc">100 √úcretsiz D√∂nd√ºrme kazandƒ±nƒ±z!<br>Bonusunuzu almak i√ßin a≈üaƒüƒ±daki butona tƒ±klayƒ±n.</div>
      <button class="bonus-btn" id="bonusBtn">BONUSU AL!</button>
    </div>
  </div>
  <script>
    // –ò–º–µ–Ω–∞ –∏–∫–æ–Ω–æ–∫ PNG ‚Äî –ª–µ–∂–∞—Ç —Ä—è–¥–æ–º —Å index.html
    const icons = [
      "blue.png","crown.png","cup.png","green.png","hourglass.png",
      "purple.png","red.png","scatter.png","yellow.png"
    ];
    const reelsCount = 6, rowsCount = 5;
    const SYMBOL_SIZE = 56;
    const SPIN_MIN = 13, SPIN_MAX = 16; // —á—É—Ç—å —Ä–∞–∑–Ω–∞—è –¥–ª–∏–Ω–∞, –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
    const REEL_DELAY = 210; // –∑–∞–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä—Ç–∞ –∫–∞–∂–¥–æ–≥–æ –±–∞—Ä–∞–±–∞–Ω–∞
    const STOP_SMOOTH = 630; // –ø–ª–∞–≤–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –º—Å
    const SCATTER_IDX = 7;

    const slotReels = document.getElementById('slotReels');
    const spinBtn = document.getElementById('spinBtn');
    const bonusModal = document.getElementById('bonusModal');
    const bonusBtn = document.getElementById('bonusBtn');
    const winMessage = document.getElementById('winMessage');

    let spinState = 0; // 0 ‚Äî –ø–µ—Ä–≤—ã–π —Ö–æ–ª–æ—Å—Ç–æ–π, 1 ‚Äî –±–æ–Ω—É—Å–Ω—ã–π —Å –≤—ã–∏–≥—Ä—ã—à–µ–º

    function getRandSym() { return Math.floor(Math.random() * icons.length); }

    function makeStrip(turns) {
      let needed = (turns * rowsCount) + rowsCount + 15;
      let strip = [];
      for (let i = 0; i < needed; i++) strip.push(getRandSym());
      return strip;
    }

    function matrixWithFourScatter() {
      let matrix = [];
      for (let r = 0; r < reelsCount; r++) {
        matrix[r] = [];
        for (let row = 0; row < rowsCount; row++) {
          matrix[r][row] = getRandSym();
        }
      }
      // –°—Ç–∞–≤–∏–º —Ä–æ–≤–Ω–æ 4 scatter –≤ —Å–ª—É—á–∞–π–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏—è—Ö
      let positions = [];
      while (positions.length < 4) {
        let r = Math.floor(Math.random() * reelsCount);
        let row = Math.floor(Math.random() * rowsCount);
        let key = `${r}_${row}`;
        if (!positions.includes(key)) {
          positions.push(key);
          matrix[r][row] = SCATTER_IDX;
        }
      }
      return matrix;
    }

    function renderReels(strips, highlightMatrix = null) {
      slotReels.innerHTML = '';
      for (let r = 0; r < reelsCount; r++) {
        let reelDiv = document.createElement('div');
        reelDiv.className = 'reel';
        let inner = document.createElement('div');
        inner.className = 'reel-inner';
        let strip = strips[r];
        for (let s = 0; s < strip.length; s++) {
          let sym = document.createElement('div');
          sym.className = 'symbol';
          let idx = strip[s];
          // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ scatter —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö (–≤—ã–∏–≥—Ä—ã—à–Ω—ã—Ö) —Å–∏–º–≤–æ–ª–æ–≤
          if (highlightMatrix && s >= strip.length-rowsCount && highlightMatrix[r] && highlightMatrix[r][s-strip.length+rowsCount] === SCATTER_IDX) {
            sym.classList.add('scatter');
          }
          let img = document.createElement('img');
          img.src = icons[idx];
          sym.appendChild(img);
          inner.appendChild(sym);
        }
        inner.style.transform = `translateY(0px)`;
        reelDiv.appendChild(inner);
        slotReels.appendChild(reelDiv);
      }
    }

    function spin() {
      spinBtn.disabled = true;
      winMessage.classList.remove('show');

      let strips = [], spinsArr = [];
      for (let i = 0; i < reelsCount; i++) {
        let spins = SPIN_MIN + Math.floor(Math.random() * (SPIN_MAX - SPIN_MIN));
        spinsArr[i] = spins;
        strips[i] = makeStrip(spins);
      }
      renderReels(strips);

      let finalMatrix = (spinState === 1) ? matrixWithFourScatter() : null;

      let finished = 0;
      for (let r = 0; r < reelsCount; r++) {
        let reel = slotReels.children[r].querySelector('.reel-inner');
        let spins = spinsArr[r];
        let totalSteps = (spins * rowsCount) * SYMBOL_SIZE;
        let startPos = 0;

        setTimeout(()=>{
          // –ü–ª–∞–≤–Ω–∞—è ease-out –∞–Ω–∏–º–∞—Ü–∏—è:
          let duration = 900 + r * 190; // –∫–∞–∂–¥—ã–π —Å–ª–µ–¥—É—é—â–∏–π –¥–æ–ª—å—à–µ
          let finalOffset = -((makeStrip(spins).length - rowsCount) * SYMBOL_SIZE);

          reel.style.transition = '';
          reel.style.transform = `translateY(0px)`;

          // –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∞
          setTimeout(()=>{
            reel.style.transition = `transform ${duration}ms cubic-bezier(.23,1,.35,1)`;
            reel.style.transform = `translateY(${finalOffset}px)`;
          }, 18);

          // –ü–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ ‚Äî –≤—ã—Å—Ç–∞–≤–∏—Ç—å –∏—Ç–æ–≥–æ–≤—É—é –∫–æ–º–±–∏–Ω–∞—Ü–∏—é
          setTimeout(()=>{
            if (spinState === 1 && finalMatrix) {
              // –ë–æ–Ω—É—Å ‚Äî —Ä–∏—Å—É–µ–º –≤—ã–∏–≥—Ä—ã—à–Ω—É—é
              reel.innerHTML = '';
              for (let i = 0; i < rowsCount; i++) {
                let sym = document.createElement('div');
                sym.className = 'symbol';
                if (finalMatrix[r][i] === SCATTER_IDX) sym.classList.add('scatter');
                let img = document.createElement('img');
                img.src = icons[finalMatrix[r][i]];
                sym.appendChild(img);
                reel.appendChild(sym);
              }
              reel.style.transition = 'none';
              reel.style.transform = `translateY(${-(rowsCount-0)*SYMBOL_SIZE}px)`;
            }
            finished++;
            if (finished === reelsCount) {
              if (spinState === 1 && finalMatrix) {
                showWin();
                spinState = 0; // —Å–±—Ä–æ—Å –æ–±—Ä–∞—Ç–Ω–æ –∫ —Ö–æ–ª–æ—Å—Ç–æ–º—É
              } else {
                spinBtn.disabled = false;
                spinState = 1; // —Ç–µ–ø–µ—Ä—å –±–æ–Ω—É—Å
              }
            }
          }, duration + 48);
        }, r * REEL_DELAY);
      }
    }

    function showWin() {
      winMessage.classList.add('show');
      setTimeout(()=>{
        winMessage.classList.remove('show');
        setTimeout(showBonus, 1000);
      }, 3200);
    }

    function showBonus() {
      bonusModal.classList.add('show');
    }
    bonusBtn.onclick = function(){
      window.location.href = 'https://example.com/'; // ‚Üê —Å—é–¥–∞ —Å–≤–æ—é —Å—Å—ã–ª–∫—É!
    };
    spinBtn.onclick = spin;

    // –ü–µ—Ä–≤–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ (—Å—Ç–∞—Ç–∏—á–Ω–∞—è)
    let strips = [];
    for (let i = 0; i < reelsCount; i++) strips[i] = makeStrip(15);
    renderReels(strips);

  </script>
</body>
</html>
